{
    "id": "705",
    "title": "Estimated/Expected Peak Expiratory Flow (Peak Flow)",
    "desc": "The Estimated/Expected Peak Expiratory Flow (Peak Flow) quantifies asthma exacerbation severity.",
    "data": {
        "orgreference": [
            {
                "href": "https://www.ncbi.nlm.nih.gov/pubmed/6859656 ",
                "text": "Knudson RJ, Lebowitz MD, Holberg CJ, Burrows B. Changes in the normal maximal expiratory flow-volume curve with growth and aging. Am Rev Respir Dis. 1983. Jun;127(6):725-34."
            },
            {
                "href": "https://www.ncbi.nlm.nih.gov/pubmed/9872837",
                "text": "Hankinson JL, Odencrantz JR, Fedan KB. Spirometric reference values from a sample of the general U.S. population. Am J Respir Crit Care Med. 1999;159(1):179-87."
            }
        ],
        "other_refer": [
            {
                "href": "https://www.jpeds.com/article/S0022-3476(72)80475-X/abstract",
                "text": "Auld PA. Pulmonary function testing in children: techniques and standards. The Journal of Pediatrics. 1972;80(1):152."
            },
            {
                "href": "https://www.ncbi.nlm.nih.gov/pubmed/2144618",
                "text": "Sanz J, Martorell A, Saiz R, Alvarez V, Carrasco JI. Peak expiratory flow measured with the Mini Wright Peak Flow Meter in children. Pediatr Pulmonol. 1990;9(2):86-90."
            },
            {
                "href": "https://onlinelibrary.wiley.com/doi/abs/10.1111/j.1651-2227.1994.tb13008.x",
                "text": "Høst A, Høst AH, Ibsen T. Peak expiratory flow rate in healthy children aged 6-17 years. Acta Paediatr. 1994;83(12):1255-7."
            },
            {
                "href": "https://www.ncbi.nlm.nih.gov/pubmed?term=11805367",
                "text": "Balasubramanian S, Ravikumar NR, Chakkarapani E, Shivbalan SO. Peak expiratory flow rate in children--a ready reckoner. Indian Pediatr. 2002. Jan;39(1):104-6."
            }
        ],
        "evidence": "<p dir=\"ltr\"><strong>Ages 5-7 years and any ethnicity:</strong></p>\n<p dir=\"ltr\">PEFR = [(Height, cm - 100) &times; 5] + 100</p>\n<p></p>\n<p dir=\"ltr\"><strong>Ages 8-80 years and Caucasian, African American, or Mexican American ethnicity:</strong></p>\n<p dir=\"ltr\">See regression equations in Tables 4-5 in <a href=\"https://www.atsjournals.org/doi/abs/10.1164/ajrccm.159.1.9712108?url_ver=Z39.88-2003&amp;rfr_id=ori%3Arid%3Acrossref.org&amp;rfr_dat=cr_pub%3Dpubmed#readcube-epdf\" target=\"_blank\" rel=\"noopener\">Hankinson 1999</a> (NHANES III).</p>\n<p></p>\n<p dir=\"ltr\"><strong>Ages 8-17 years, all other ethnicities:</strong></p>\n<p dir=\"ltr\">PEFR = [(Height, cm - 100) &times; 5] + 100</p>\n<p></p>\n<p dir=\"ltr\"><strong>Ages 18-80 years, all other ethnicities:</strong></p>\n<p dir=\"ltr\">PEFR, male = {[(Height, m &times; 5.48) + 1.58] - [Age &times; 0.041]} &times; 60</p>\n<p dir=\"ltr\">PEFR, female = {[(Height, m &times; 3.72) + 2.24] - [Age &times; 0.03]} &times; 60</p>\n<p dir=\"ltr\"></p>\n<p dir=\"ltr\"><strong>Peak flow variability:</strong></p>\n<p dir=\"ltr\">Peak flow variability, % = (actual peak flow rate / estimated peak flow rate) x 100</p>\n<p dir=\"ltr\">This calculator uses the equations from <a href=\"https://www.atsjournals.org/doi/abs/10.1164/ajrccm.159.1.9712108?url_ver=Z39.88-2003&amp;rfr_id=ori%3Arid%3Acrossref.org&amp;rfr_dat=cr_pub%3Dpubmed#readcube-epdf\" target=\"_blank\" rel=\"noopener\">Hankinson 1999</a> (NHANES III) where available, and equations from <a href=\"https://www.ncbi.nlm.nih.gov/pubmed/6859656\" target=\"_blank\" rel=\"noopener\">Knudson 1983</a> where there are deficits in the data (patients not&nbsp;8-80 years and Caucasian, African American, or Mexican American ethnicity).</p>\n<p dir=\"ltr\"></p>\n<p dir=\"ltr\"></p>",
        "facts": "<p>Interpretation:</p>\n<table width=\"409\" height=\"124\">\n<tbody>\n<tr>\n<td><strong>Variability</strong></td>\n<td><strong>Peak flow zone</strong></td>\n</tr>\n<tr>\n<td>&gt;80%</td>\n<td>Green</td>\n</tr>\n<tr>\n<td>50-80%</td>\n<td>Yellow</td>\n</tr>\n<tr>\n<td>&lt;50%</td>\n<td>Red</td>\n</tr>\n</tbody>\n</table>",
        "estimation": [
            {
                "name": "age_pef",
                "unit": "age_pef",
                "error_min": "5",
                "error_max": "80",
                "warn_min": "5",
                "warn_max": "80",
                "conversion": "1",
                "normal_max_si": "80",
                "normal_max_us": "80",
                "normal_min_si": "5",
                "normal_min_us": "5",
                "units_si": "years",
                "units_us": "years"
            },
            {
                "name": "pef",
                "unit": "pef",
                "error_min": "0",
                "error_max": "800",
                "warn_min": "300",
                "warn_max": "660",
                "conversion": "0.0166666666",
                "normal_max_si": "11",
                "normal_max_us": "660",
                "normal_min_si": "5",
                "normal_min_us": "300",
                "units_si": "L/sec",
                "units_us": "L/min"
            },
            {
                "name": "Height",
                "unit": "ht",
                "error_min": "0",
                "error_max": "90",
                "warn_min": "5",
                "warn_max": "80",
                "conversion": "2.54",
                "normal_max_si": "213",
                "normal_max_us": "84",
                "normal_min_si": "152",
                "normal_min_us": "60",
                "units_si": "cm",
                "units_us": "in"
            }
        ],
        "primary_complains": [
            "Cough",
            "Shortness of Breath",
            "Wheezing"
        ],
        "disease_treated": [
            "Asthma",
            "COPD"
        ],
        "logic": "var calc_output = [];\nvar age = parseFloat(age);\nvar sex = parseFloat(sex);\nvar ht = parseFloat(height);\nvar race = parseFloat(race);\nvar pef;\nvar lln;\nvar units;\n\nif (age < 8){\n  pef = (ht - 100)*5 + 100;\n  lln = pef;\n}\nelse if (sex == 0 && race == 0 && age >= 8 && age < 18){\n  pef = -3.6181 + 0.60644*age + -0.016846*Math.pow(age,2) + 0.00018623*Math.pow(ht,2);\n  lln = -3.6181 + 0.60644*age + -0.016846*Math.pow(age,2) + 0.00012148*Math.pow(ht,2);\n  pef = pef*60;\n  lln = lln*60;\n}\nelse if (sex == 0 && race == 0 && age >= 18){\n  pef =  0.9267 + 0.06929*age + -0.001031*Math.pow(age,2) + 0.00018623*Math.pow(ht,2);\n  lln =  0.9267 + 0.06929*age + -0.001031*Math.pow(age,2) + 0.00012148*Math.pow(ht,2);\n  pef = pef*60;\n  lln = lln*60;\n}\nelse if (sex == 0 && race == 1 && age >= 8 && age < 18){\n  pef = -1.2398 +  0.16375*age + 0*Math.pow(age,2) + 0.00019746*Math.pow(ht,2);\n  lln = -1.2398 +  0.16375*age + 0*Math.pow(age,2) + 0.00012160*Math.pow(ht,2);\n  pef = pef*60;\n  lln = lln*60;\n}\nelse if (sex == 0 && race == 1 && age >= 18){\n  pef = 1.3597 + 0.03458*age + -0.000847*Math.pow(age,2) + 0.00019746*Math.pow(ht,2);\n  lln = 1.3597 + 0.03458*age + -0.000847*Math.pow(age,2) + 0.00012160*Math.pow(ht,2);\n  pef = pef*60;\n  lln = lln*60;\n}\nelse if (sex == 0 && race == 2 && age >= 8 && age < 18){\n  pef = -3.2549 + 0.47495*age + -0.013193*Math.pow(age,2) + 0.00022203*Math.pow(ht,2);\n  lln = -3.2549 + 0.47495*age + -0.013193*Math.pow(age,2) + 0.00014611*Math.pow(ht,2);\n  pef = pef*60;\n  lln = lln*60;\n}\nelse if (sex == 0 && race == 2 && age >= 18){\n  pef =  0.2401 + 0.06174*age + -0.001023*Math.pow(age,2) + 0.00022203*Math.pow(ht,2);\n  lln =  0.2401 + 0.06174*age + -0.001023*Math.pow(age,2) + 0.00014611*Math.pow(ht,2);\n  pef = pef*60;\n  lln = lln*60;\n}\nelse if (sex == 1 && race == 0 && age >= 8 && age < 20){\n  pef = -0.5962 + -0.12357*age + 0.013135*Math.pow(age,2) + 0.00024962*Math.pow(ht,2);\n  lln = -0.5962 + -0.12357*age + 0.013135*Math.pow(age,2) + 0.00017635*Math.pow(ht,2);\n  pef = pef*60;\n  lln = lln*60;\n}\nelse if (sex == 1 && race == 0 && age >= 20){\n  pef =  1.0523 + 0.08272*age + -0.001301*Math.pow(age,2) + 0.00024962*Math.pow(ht,2);\n  lln =  1.0523 + 0.08272*age + -0.001301*Math.pow(age,2) + 0.00017635*Math.pow(ht,2);\n  pef = pef*60;\n  lln = lln*60;\n}\nelse if (sex == 1 && race == 1 && age >= 8 && age < 20){\n  pef = -0.2684 +  -0.28016*age + 0.018202*Math.pow(age,2) + 0.00027333*Math.pow(ht,2);\n  lln = -0.2684 +  -0.28016*age + 0.018202*Math.pow(age,2) + 0.00018938*Math.pow(ht,2);\n  pef = pef*60;\n  lln = lln*60;\n}\nelse if (sex == 1 && race == 1 && age >= 20){\n  pef = 2.2257 + -0.04082*age + 0*Math.pow(age,2) + 0.00027333*Math.pow(ht,2);\n  lln = 2.2257 + -0.04082*age + 0*Math.pow(age,2) + 0.00018938*Math.pow(ht,2);\n  pef = pef*60;\n  lln = lln*60;\n}\nelse if (sex == 1 && race == 2 && age >= 8 && age < 20){\n  pef = -0.9537 + -0.19602*age + 0.014497*Math.pow(age,2) + 0.00030243*Math.pow(ht,2);\n  lln = -0.9537 + -0.19602*age + 0.014497*Math.pow(age,2) + 0.00021833*Math.pow(ht,2);\n  pef = pef*60;\n  lln = lln*60;\n}\nelse if (sex == 1 && race == 2 && age >= 20){\n  pef =  0.0870 + 0.06580*age + -0.001195*Math.pow(age,2) + 0.00030243*Math.pow(ht,2);\n  lln =  0.0870 + 0.06580*age + -0.001195*Math.pow(age,2) + 0.00021833*Math.pow(ht,2);\n  pef = pef*60;\n  lln = lln*60;\n}\nelse if (race == 3 && age >= 8 && age < 18){\n   pef = (ht - 100)*5 + 100;\n   lln = pef;\n}\nelse if (race == 3 && age >= 18 && sex == 1){\n  ht = ht/100;\n  pef = (((ht*5.48) + 1.58) - (age*0.041))*60;\n  lln = pef;\n}\nelse if (race == 3 && age >= 18 && sex == 0){\n  ht = ht/100;\n  pef = (((ht*3.72) + 2.24) - (age*0.03))*60;\n  lln = pef;\n}\n\nif (UOMSYSTEM == false){\n  pef = pef/60;\n  lln = lln/60;\n  units = 'L/sec';\n  pef = pef.toFixed(2);\n  lln = lln.toFixed(2);\n}\nif (UOMSYSTEM == true){\n  pef = pef.toFixed(0);\n  lln = lln.toFixed(0);\n  units = 'L/min';\n}\n\nvar percent = (apfr/pef)*100;\npercent = percent.toFixed(0);\n\nif (percent > 80){\n  zone = 'Green';\n}\nelse if (percent < 50){\n  zone = 'Red';\n}\nelse {\n  zone = 'Yellow';\n}\n\ncalc_output.push({ \n  name: 'mini', value: pef, value_text: units, message: 'Estimated Peak Flow'  \n});\n\ncalc_output.push({ \n  name: '790_Estimated Peak Flow_result (flow)', \n  value: pef, \n  value_text: units, \n  message: 'Estimated Peak Flow (see Evidence for equation used)'\n});\n\nif (lln != pef){\n  calc_output.push({ \n    name: '790_Estimated Peak Flow_result (LLN)', \n    value: lln, \n    value_text: units, \n    message: 'Lower limit of normal'\n  });\n}\nif (apfr > 0){\n  calc_output.push({ \n    name: '790_Estimated Peak Flow_result (zone)', \n    value: percent, \n    value_text: '%', \n    message: 'Peak flow variability - ' + zone + ' zone'\n  });\n}",
        "inputs": [
            {
                "conditionality": "",
                "default": null,
                "fhir_rules": null,
                "inct": null,
                "label_en": "<p>Age</p>",
                "name": "age",
                "optional": false,
                "tips_en": "",
                "type": "textbox",
                "unit": "age_pef"
            },
            {
                "conditionality": "",
                "default": null,
                "fhir_rules": null,
                "inct": null,
                "label_en": "<p>Height</p>",
                "name": "height",
                "optional": false,
                "tips_en": "",
                "type": "textbox",
                "unit": "ht"
            },
            {
                "conditionality": "",
                "default": null,
                "label_en": "<p>Race/ethnicity</p>",
                "mdcalc_info_concept": null,
                "name": "race",
                "option_fhir_rules": null,
                "optional": false,
                "options": [
                    {
                        "label": "Caucasian",
                        "value": 0
                    },
                    {
                        "label": "African-American",
                        "value": 1
                    },
                    {
                        "label": "Mexican-American",
                        "value": 2
                    },
                    {
                        "label": "Other",
                        "value": 3
                    }
                ],
                "show_points": false,
                "tips_en": "",
                "type": "radio"
            },
            {
                "conditionality": "(age >= 8 && age < 18 && race != 3 ) || (age >= 18 && age <= 80)",
                "default": null,
                "label_en": "<p>Sex</p>",
                "md_calc_info_concept": null,
                "name": "sex",
                "option_fhir_rules": null,
                "optional": false,
                "options": [
                    {
                        "label": "Female",
                        "value": 0
                    },
                    {
                        "label": "Male",
                        "value": 1
                    }
                ],
                "show_points": false,
                "tips_en": "",
                "type": "toggle"
            },
            {
                "conditionality": "",
                "default": null,
                "fhir_rules": null,
                "inct": null,
                "label_en": "Actual peak flow rate",
                "name": "apfr",
                "optional": true,
                "tips_en": "Optional",
                "type": "textbox",
                "unit": "pef"
            }
        ],
        "can_search": [
            "asthma",
            "estimated peak flow"
        ],
        "specialty": [
            "Emergency Medicine",
            "Family Practice",
            "Hospitalist Medicine",
            "Internal Medicine",
            "Pediatrics",
            "Primary Care",
            "Pulmonology"
        ]
    }
}